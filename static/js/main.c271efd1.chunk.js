(this.webpackJsonpprojectone=this.webpackJsonpprojectone||[]).push([[0],{2705:function(e,n){},2713:function(e,n){},2730:function(e,n){},2733:function(e,n){},2755:function(e,n){},2780:function(e,n,t){"use strict";t.r(n);var c=t(48),r=t.n(c),a=t(451),o=t.n(a),s=(t(463),t(260)),i=t(19),u=t(27),l=t(1),f=t.n(l),d=(t(465),t(452)),b=t.n(d),j=t(455),h=t.n(j),p=t(456),v=t.n(p),O=function(){var e=Object(i.a)(f.a.mark((function e(n,t){var c,r,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/contracts/".concat(n,".json"));case 2:return c=e.sent,e.next=5,c.json();case 5:return r=e.sent,(a=v()(r)).setProvider(t),o=null,e.prev=9,e.next=12,a.deployed();case 12:o=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),console.error("You are connected to the wrong network");case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(n,t){return e.apply(this,arguments)}}(),w=t(34);var x=function(){var e=Object(c.useState)({provider:null,isProviderLoaded:!1,web3:null,contract:null}),n=Object(u.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(null),o=Object(u.a)(a,2),l=o[0],d=o[1],j=Object(c.useState)(null),p=Object(u.a)(j,2),v=p[0],x=p[1],m=Object(c.useState)(!1),k=Object(u.a)(m,2),g=k[0],C=k[1],N=v&&t.contract,y=Object(c.useCallback)((function(){return C(!g)}),[g]),F=function(e){e.on("accountsChanged",(function(e){return window.location.reload()})),e.on("chainChanged",(function(e){return window.location.reload()}))};Object(c.useEffect)((function(){var e=function(){var e=Object(i.a)(f.a.mark((function e(){var n,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()();case 2:if(!(n=e.sent)){e.next=11;break}return e.next=6,O("Faucet",n);case 6:t=e.sent,F(n),r({web3:new b.a(n),provider:n,contract:t,isProviderLoaded:!0}),e.next=13;break;case 11:r((function(e){return Object(s.a)(Object(s.a)({},e),{},{isProviderLoaded:!0})})),console.error("Please, install Metamask");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(i.a)(f.a.mark((function e(){var n,c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contract,c=t.web3,e.next=3,c.eth.getBalance(n.address);case 3:r=e.sent,d(c.utils.fromWei(r,"ether"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.web3&&e()}),[t,g]),Object(c.useEffect)((function(){var e=function(){var e=Object(i.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.web3.eth.getAccounts();case 2:n=e.sent,x(n[0]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.web3&&e()}),[t.web3]);var P=Object(c.useCallback)(Object(i.a)(f.a.mark((function e(){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contract,c=t.web3,e.next=3,n.addFunds({from:v,value:c.utils.toWei("1","ether")});case 3:y();case 4:case"end":return e.stop()}}),e)}))),[t,v,y]),E=Object(c.useCallback)(Object(i.a)(f.a.mark((function e(){var n,c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contract,c=t.web3,r=c.utils.toWei("0.1","ether"),e.next=4,n.withdraw(r,{from:v});case 4:y();case 5:case"end":return e.stop()}}),e)}))),[t,v,y]);return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("div",{className:"faucet-wrapper",children:Object(w.jsxs)("div",{className:"faucet",children:[t.isProviderLoaded?Object(w.jsxs)("div",{className:"is-flex is-align-items-center",children:[Object(w.jsx)("span",{children:Object(w.jsx)("strong",{className:"mr-2",children:"Account :"})}),v?Object(w.jsx)("div",{children:v}):t.provider?Object(w.jsx)("button",{className:"button is-small",onClick:function(){return t.provider.request({method:"eth_requestAccounts"})},children:"Connect Wallet"}):Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"notification is-warning is-size-7 is-rounded",children:["Wallet is not detected!"," ",Object(w.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://metamask.io/download.html",children:"Install Metamask"})]})})]}):Object(w.jsx)("span",{children:"Looking for web3..."}),Object(w.jsxs)("div",{className:"balance-view is-size-2 my-4",children:["Current Balance: ",Object(w.jsx)("strong",{children:l})," ETH"]}),!N&&Object(w.jsx)("i",{className:"is-block",children:"Connect to Ganache"}),Object(w.jsx)("button",{disabled:!N,onClick:P,className:"button is-danger mr-2",children:"Donate 1 ETH"}),Object(w.jsx)("button",{disabled:!N,onClick:E,className:"button is-primary",children:"Withdraw 0.1 ETH"})]})})})},m=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,2784)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};t(2778);o.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(x,{})}),document.getElementById("root")),m()},463:function(e,n,t){},465:function(e,n,t){},477:function(e,n){},478:function(e,n){},482:function(e,n){},483:function(e,n){},508:function(e,n){},510:function(e,n){},522:function(e,n){},524:function(e,n){},539:function(e,n){},566:function(e,n){},567:function(e,n){},634:function(e,n){},636:function(e,n){},642:function(e,n){},654:function(e,n){},657:function(e,n){},662:function(e,n){},781:function(e,n){},876:function(e,n){}},[[2780,1,2]]]);
//# sourceMappingURL=main.c271efd1.chunk.js.map